[debug] [2025-10-06T15:02:23.923Z] ----------------------------------------------------------------------
[debug] [2025-10-06T15:02:23.926Z] Command:       /Users/goedert/.nvm/versions/node/v22.19.0/bin/node /Users/goedert/.nvm/versions/node/v22.19.0/bin/firebase serve
[debug] [2025-10-06T15:02:23.927Z] CLI Version:   14.17.0
[debug] [2025-10-06T15:02:23.927Z] Platform:      darwin
[debug] [2025-10-06T15:02:23.927Z] Node Version:  v22.19.0
[debug] [2025-10-06T15:02:23.927Z] Time:          Mon Oct 06 2025 12:02:23 GMT-0300 (Horário Padrão de Brasília)
[debug] [2025-10-06T15:02:23.928Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-10-06T15:02:24.365Z] Object "/functions" in "firebase.json" has unknown property: {"additionalProperty":"cors"}
[debug] [2025-10-06T15:02:24.365Z] Object "/functions" in "firebase.json" is missing required property: {"missingProperty":"remoteSource"}
[debug] [2025-10-06T15:02:24.365Z] Field "/functions" in "firebase.json" is possibly invalid: must be array
[debug] [2025-10-06T15:02:24.365Z] Field "/functions" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-10-06T15:02:24.371Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-10-06T15:02:24.371Z] > authorizing via signed-in user (comercial@kihap.com.br)
[debug] [2025-10-06T15:02:24.372Z] [iam] checking project intranet-kihap for permissions ["firebase.projects.get"]
[debug] [2025-10-06T15:02:24.372Z] Checked if tokens are valid: true, expires at: 1759766526586
[debug] [2025-10-06T15:02:24.373Z] Checked if tokens are valid: true, expires at: 1759766526586
[debug] [2025-10-06T15:02:24.374Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/intranet-kihap:testIamPermissions [none]
[debug] [2025-10-06T15:02:24.374Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/intranet-kihap:testIamPermissions x-goog-quota-user=projects/intranet-kihap
[debug] [2025-10-06T15:02:24.374Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/intranet-kihap:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2025-10-06T15:02:25.402Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/intranet-kihap:testIamPermissions 200
[debug] [2025-10-06T15:02:25.402Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/intranet-kihap:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2025-10-06T15:02:25.403Z] Checked if tokens are valid: true, expires at: 1759766526586
[debug] [2025-10-06T15:02:25.403Z] Checked if tokens are valid: true, expires at: 1759766526586
[debug] [2025-10-06T15:02:25.403Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/intranet-kihap [none]
[debug] [2025-10-06T15:02:25.646Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/intranet-kihap 200
[debug] [2025-10-06T15:02:25.646Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/intranet-kihap {"projectNumber":"1055939458006","projectId":"intranet-kihap","lifecycleState":"ACTIVE","name":"Intranet-kihap","labels":{"firebase":"enabled","firebase-core":"disabled","generative-language":"enabled"},"createTime":"2025-08-24T21:36:32.438489Z","parent":{"type":"organization","id":"97020421655"}}
[info] 
[info] === Serving from '/Users/goedert/Documents/GITHUB/KIHAP/novokihap'...
[info] 
[debug] [2025-10-06T15:02:25.674Z] defaultcredentials: writing to file /Users/goedert/.config/firebase/comercial_kihap_com.br_application_default_credentials.json
[debug] [2025-10-06T15:02:25.677Z] Setting GAC to /Users/goedert/.config/firebase/comercial_kihap_com.br_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/goedert/.config/firebase/comercial_kihap_com.br_application_default_credentials.json"}}
[debug] [2025-10-06T15:02:25.677Z] Checked if tokens are valid: true, expires at: 1759766526586
[debug] [2025-10-06T15:02:25.678Z] Checked if tokens are valid: true, expires at: 1759766526586
[debug] [2025-10-06T15:02:25.678Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/intranet-kihap/adminSdkConfig [none]
[debug] [2025-10-06T15:02:26.194Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/intranet-kihap/adminSdkConfig 200
[debug] [2025-10-06T15:02:26.194Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/intranet-kihap/adminSdkConfig {"projectId":"intranet-kihap","storageBucket":"intranet-kihap.firebasestorage.app"}
[info] i  functions: Watching "/Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions\" for Cloud Functions..."}}
[debug] [2025-10-06T15:02:26.230Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-10-06T15:02:27.346Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.8",
    "cors": "^2.8.5",
    "firebase-admin": "^12.0.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-10-06T15:02:27.347Z] Building nodejs source
[debug] [2025-10-06T15:02:27.347Z] Failed to find version of module node: reached end of search path /Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "22". Using node@22 from host. 
[debug] [2025-10-06T15:02:27.349Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-10-06T15:02:27.364Z] Found firebase-functions binary at '/Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8477

[debug] [2025-10-06T15:02:28.100Z] Got response from /__/functions.yaml {"endpoints":{"getMemberData":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getMemberData"},"listAllMembers":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"listAllMembers"},"updateMemberData":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"updateMemberData"},"inviteStudent":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"inviteStudent"},"updateStudentPermissions":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"updateStudentPermissions"},"getActiveContractsCount":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":120,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getActiveContractsCount"},"getEvoUnits":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEvoUnits"},"getActivitiesSchedule":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getActivitiesSchedule"},"getDailyEntries":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getDailyEntries"},"getContractsEvolution":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":120,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getContractsEvolution"},"snapshotDailyEvoData":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"0 23 * * *","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":"America/Sao_Paulo"},"labels":{},"entryPoint":"snapshotDailyEvoData"},"triggerSnapshot":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"triggerSnapshot"},"deleteEvoSnapshot":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"deleteEvoSnapshot"},"getTodaysTotalEntries":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":120,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getTodaysTotalEntries"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: getMemberData, listAllMembers, updateMemberData, inviteStudent, updateStudentPermissions, getActiveContractsCount, getEvoUnits, getActivitiesSchedule, getDailyEntries, getContractsEvolution, snapshotDailyEvoData, triggerSnapshot, deleteEvoSnapshot, getTodaysTotalEntries. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: getMemberData, listAllMembers, updateMemberData, inviteStudent, updateStudentPermissions, getActiveContractsCount, getEvoUnits, getActivitiesSchedule, getDailyEntries, getContractsEvolution, snapshotDailyEvoData, triggerSnapshot, deleteEvoSnapshot, getTodaysTotalEntries."}}
[info] ✔  functions[us-central1-getMemberData]: http function initialized (http://localhost:5000/intranet-kihap/us-central1/getMemberData). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/intranet-kihap/us-central1/getMemberData)."}}
[info] ✔  functions[us-central1-listAllMembers]: http function initialized (http://localhost:5000/intranet-kihap/us-central1/listAllMembers). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/intranet-kihap/us-central1/listAllMembers)."}}
[info] ✔  functions[us-central1-updateMemberData]: http function initialized (http://localhost:5000/intranet-kihap/us-central1/updateMemberData). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/intranet-kihap/us-central1/updateMemberData)."}}
[info] ✔  functions[us-central1-inviteStudent]: http function initialized (http://localhost:5000/intranet-kihap/us-central1/inviteStudent). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/intranet-kihap/us-central1/inviteStudent)."}}
[info] ✔  functions[us-central1-updateStudentPermissions]: http function initialized (http://localhost:5000/intranet-kihap/us-central1/updateStudentPermissions). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/intranet-kihap/us-central1/updateStudentPermissions)."}}
[info] ✔  functions[us-central1-getActiveContractsCount]: http function initialized (http://localhost:5000/intranet-kihap/us-central1/getActiveContractsCount). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/intranet-kihap/us-central1/getActiveContractsCount)."}}
[info] ✔  functions[us-central1-getEvoUnits]: http function initialized (http://localhost:5000/intranet-kihap/us-central1/getEvoUnits). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/intranet-kihap/us-central1/getEvoUnits)."}}
[info] ✔  functions[us-central1-getActivitiesSchedule]: http function initialized (http://localhost:5000/intranet-kihap/us-central1/getActivitiesSchedule). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/intranet-kihap/us-central1/getActivitiesSchedule)."}}
[info] ✔  functions[us-central1-getDailyEntries]: http function initialized (http://localhost:5000/intranet-kihap/us-central1/getDailyEntries). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/intranet-kihap/us-central1/getDailyEntries)."}}
[info] ✔  functions[us-central1-getContractsEvolution]: http function initialized (http://localhost:5000/intranet-kihap/us-central1/getContractsEvolution). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/intranet-kihap/us-central1/getContractsEvolution)."}}
[info] i  functions[us-central1-snapshotDailyEvoData]: function ignored because the pubsub emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the pubsub emulator does not exist or is not running."}}
[info] ✔  functions[us-central1-triggerSnapshot]: http function initialized (http://localhost:5000/intranet-kihap/us-central1/triggerSnapshot). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/intranet-kihap/us-central1/triggerSnapshot)."}}
[info] ✔  functions[us-central1-deleteEvoSnapshot]: http function initialized (http://localhost:5000/intranet-kihap/us-central1/deleteEvoSnapshot). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/intranet-kihap/us-central1/deleteEvoSnapshot)."}}
[info] ✔  functions[us-central1-getTodaysTotalEntries]: http function initialized (http://localhost:5000/intranet-kihap/us-central1/getTodaysTotalEntries). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/intranet-kihap/us-central1/getTodaysTotalEntries)."}}
[debug] [2025-10-06T18:13:24.959Z] File /Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/index.js changed, reloading triggers"}}
[debug] [2025-10-06T18:13:25.965Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-10-06T18:13:26.990Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.8",
    "cors": "^2.8.5",
    "firebase-admin": "^12.0.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-10-06T18:13:26.990Z] Building nodejs source
[debug] [2025-10-06T18:13:26.990Z] Failed to find version of module node: reached end of search path /Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "22". Using node@22 from host. 
[debug] [2025-10-06T18:13:26.992Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-10-06T18:13:26.996Z] Found firebase-functions binary at '/Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8782

[error] FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
    at AppStore.initializeApp (/Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23)
    at FirebaseNamespaceInternals.initializeApp (/Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35)
    at FirebaseNamespace.initializeApp (/Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30)
    at Object.<anonymous> (/Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/evo.js:6:7)
    at Module._compile (node:internal/modules/cjs/loader:1706:14)
    at Object..js (node:internal/modules/cjs/loader:1839:10)
    at Module.load (node:internal/modules/cjs/loader:1441:32)
    at Function._load (node:internal/modules/cjs/loader:1263:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:237:24) {
  errorInfo: {
    code: 'app/duplicate-app',
    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'
  },
  codePrefix: 'app'
}

[debug] [2025-10-06T18:13:27.747Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-10-06T18:13:40.790Z] File /Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/package-lock.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/package-lock.json changed, reloading triggers"}}
[debug] [2025-10-06T18:13:41.790Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-10-06T18:13:42.400Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.8",
    "cors": "^2.8.5",
    "firebase-admin": "^12.0.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-10-06T18:13:42.400Z] Building nodejs source
[debug] [2025-10-06T18:13:42.400Z] Failed to find version of module node: reached end of search path /Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "22". Using node@22 from host. 
[debug] [2025-10-06T18:13:42.401Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-10-06T18:13:42.402Z] Found firebase-functions binary at '/Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8316

[error] FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
    at AppStore.initializeApp (/Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23)
    at FirebaseNamespaceInternals.initializeApp (/Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35)
    at FirebaseNamespace.initializeApp (/Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30)
    at Object.<anonymous> (/Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/evo.js:6:7)
    at Module._compile (node:internal/modules/cjs/loader:1706:14)
    at Object..js (node:internal/modules/cjs/loader:1839:10)
    at Module.load (node:internal/modules/cjs/loader:1441:32)
    at Function._load (node:internal/modules/cjs/loader:1263:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:237:24) {
  errorInfo: {
    code: 'app/duplicate-app',
    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'
  },
  codePrefix: 'app'
}

[debug] [2025-10-06T18:13:42.758Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-10-06T18:14:12.204Z] File /Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/evo.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/evo.js changed, reloading triggers"}}
[debug] [2025-10-06T18:14:13.206Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-10-06T18:14:14.215Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.8",
    "cors": "^2.8.5",
    "firebase-admin": "^12.0.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-10-06T18:14:14.215Z] Building nodejs source
[debug] [2025-10-06T18:14:14.215Z] Failed to find version of module node: reached end of search path /Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "22". Using node@22 from host. 
[debug] [2025-10-06T18:14:14.216Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-10-06T18:14:14.217Z] Found firebase-functions binary at '/Users/goedert/Documents/GITHUB/KIHAP/novokihap/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8389

[debug] [2025-10-06T18:14:14.917Z] Got response from /__/functions.yaml {"endpoints":{"updateUserPassword":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"updateUserPassword"},"getMemberData":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getMemberData"},"listAllMembers":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"listAllMembers"},"updateMemberData":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"updateMemberData"},"inviteStudent":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"inviteStudent"},"updateStudentPermissions":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"updateStudentPermissions"},"getActiveContractsCount":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":120,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getActiveContractsCount"},"getEvoUnits":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getEvoUnits"},"getActivitiesSchedule":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getActivitiesSchedule"},"getDailyEntries":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getDailyEntries"},"getContractsEvolution":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":120,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getContractsEvolution"},"snapshotDailyEvoData":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"0 23 * * *","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":"America/Sao_Paulo"},"labels":{},"entryPoint":"snapshotDailyEvoData"},"triggerSnapshot":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"triggerSnapshot"},"deleteEvoSnapshot":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"deleteEvoSnapshot"},"getTodaysTotalEntries":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":120,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getTodaysTotalEntries"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: updateUserPassword, getMemberData, listAllMembers, updateMemberData, inviteStudent, updateStudentPermissions, getActiveContractsCount, getEvoUnits, getActivitiesSchedule, getDailyEntries, getContractsEvolution, snapshotDailyEvoData, triggerSnapshot, deleteEvoSnapshot, getTodaysTotalEntries. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: updateUserPassword, getMemberData, listAllMembers, updateMemberData, inviteStudent, updateStudentPermissions, getActiveContractsCount, getEvoUnits, getActivitiesSchedule, getDailyEntries, getContractsEvolution, snapshotDailyEvoData, triggerSnapshot, deleteEvoSnapshot, getTodaysTotalEntries."}}
[info] ✔  functions[us-central1-updateUserPassword]: http function initialized (http://localhost:5000/intranet-kihap/us-central1/updateUserPassword). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/intranet-kihap/us-central1/updateUserPassword)."}}
